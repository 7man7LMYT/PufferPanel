Servers
#######

List All Servers
================
``GET /servers``
----------------
Returns a list of all servers that are on the system.

Request
^^^^^^^
.. code-block:: curl

	curl -X GET -i -H "X-Access-Token: ABCDEFGH-1234-5678-0000-abcdefgh" https://example.com/api/servers

Response
^^^^^^^^
.. code-block:: json

	{
		"aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaa": {
			"id": 1,
			"owner": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx",
			"name": "MY_ADMIN_SERVER",
			"node": 1,
			"active": 1
		},
		"bbbbbbbb-bbbb-bbbb-bbbb-bbbbbbbb": {
			"id": 2,
			"owner": "yyyyyyyy-yyyy-yyyy-yyyy-yyyyyyyy",
			"name": "STEVES_SERVER",
			"node": 1,
			"active": 1
		}
	}

List a Specific Server
======================
``GET /servers/:hash``
----------------------
Returns information about the requested server.

Parameters
^^^^^^^^^^
+--------+------------+-----------+------------------------------------------------------------+
| Method | Parameter  | Required  | Description                                                |
+========+============+===========+============================================================+
| GET    | hash       | yes       | The hash of the server that you wish to return data about. |
+--------+------------+-----------+------------------------------------------------------------+

Request
^^^^^^^
.. code-block:: curl

	curl -X GET -i -H "X-Access-Token: ABCDEFGH-1234-5678-0000-abcdefgh" https://example.com/api/servers/aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaa

Response
^^^^^^^^
.. code-block:: json

	{
		"id": 1,
		"node": 1,
		"owner": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx",
		"name": "MY_ADMIN_SERVER",
		"server_jar": "server.jar",
		"active": 1,
		"ram": 512,
		"disk": 1024,
		"cpu": 30,
		"ip": "192.168.1.2",
		"port": 25565,
		"ftp_user": "mc-MY_DEMO_XyZab"
	}

Create a New Server
===================
``POST /servers``
-----------------
This request must be made over a secure (``HTTPS``) connection. Returns the FTP username and raw password.

Parameters
^^^^^^^^^^
+--------+------------+-----------+-----------------------------------------------------------------------+
| Method | Parameter  | Required  | Description                                                           |
+========+============+===========+=======================================================================+
| GET    | uuid       | yes       | The UUID of the user that you wish to return data about.              |
+--------+------------+-----------+-----------------------------------------------------------------------+
| POST   |            | yes       | A JSON formatted array containing the information for the new server. |
+--------+------------+-----------+-----------------------------------------------------------------------+

Request
^^^^^^^
+-----------+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Parameter | Required | Description                                                                                                                                                                                                                                                                    |
+===========+==========+================================================================================================================================================================================================================================================================================+
| name      | yes      | The name of the server. Must be between 4 and 16 characters.                                                                                                                                                                                                                   |
+-----------+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| node      | yes      | ID of the node for the new server.                                                                                                                                                                                                                                             |
+-----------+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| owner     | yes      | UUID of the owner of the new server.                                                                                                                                                                                                                                           |
+-----------+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ip        | yes      | IP address of the new server.                                                                                                                                                                                                                                                  |
+-----------+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| port      | yes      | Port for the new server.                                                                                                                                                                                                                                                       |
+-----------+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| memory    | yes      | Amount of memory to allocate to the server in megabytes. (e.g. ``1024`` for 1Gb)                                                                                                                                                                                               |
+-----------+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| disk      | yes      | Amount of disk to allocate to the server in megabytes. (e.g. ``10240`` for 10Gb)                                                                                                                                                                                               |
+-----------+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| cpu       | yes      | Amount of CPU time to allow the server to use. This is based on percentage of cores. One core is ``100``, four is ``400``. To assign ``50%`` of a single core on a quad-core system use ``50``. To assign two-and-a-half cores, use ``250``. To not limit CPU usage use ``0``. |
+-----------+----------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
.. code-block:: json

	{
		"name": "MY_NEW_SERVER",
		"node": 1,
		"owner": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx",
		"ip": "192.168.1.1",
		"port": 25565,
		"memory": 512,
		"disk": 10240,
		"cpu": 0
	}

.. code-block:: curl

	curl -X POST -i \
		-H "X-Access-Token: ABCDEFGH-1234-5678-0000-abcdefgh" \
		-H "Content-Type: application/json" \
		-d '{"name":"MY_NEW_SERVER","node":1,"owner":"xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx","ip":"192.168.1.1","port":25565,"memory":512,"disk":10240,"cpu":0}' \
		https://example.com/api/servers

Response
^^^^^^^^
.. code-block:: json

	{
		"hash": "dddddddd-dddd-dddd-dddd-dddddddd",
		"owner": "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxx",
		"ftp": {
			"username": "MY_NEW_xs6s2-2",
			"password": "ae7cF9KL1wK7"
		}
	}

Update a Server
===============
``PUT /servers/:hash``
----------------------

Delete a Server
===============
``DELETE  /servers/:hash``
--------------------------